{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>회원정보 수정</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="{% static "assets/favicon.ico" %}" />
        <!-- Font Awesome icons (free version)-->
        <script src="{% static "https://use.fontawesome.com/releases/v6.1.0/js/all.js" %}" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="{% static "css/styles.css" %}" rel="stylesheet" />
        <style>
            * { font-family: 'Do Hyeon', sans-serif; }

            #mybtn {
                /* max-width:100%;height:auto; */
                width: auto;
                height: auto;
                text-align: center;
                margin-left:auto; margin-right: auto;
            }
            /* #mybtn2 {
                /* max-width:100%;height:auto; */
                /* width: auto; */
                /* height: auto; */
                /* text-align: center; */
                /* margin-left:auto; margin-right: auto; */
            /* } */ 
            
            
            .gender radio:checked{
                border: 0.4em solid tomato;
            }
          
            .show {cursor: pointer;}

        </style>
    </head>

    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
            <div class="container">
                <a class="navbar-brand" href="/refrigerator/main_page/">냉털을 부탁해!</a>
                <button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="/refrigerator/total_recipe" >전체 레시피 보기</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="/refrigerator/my_rec/">추천 레시피 보기</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="/refrigerator/fridge_save">냉장고 보기</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="/refrigerator/image_upload">재료 추가하기</a></li>
                   </ul>
                </div>
            </div>
        </nav>

        <body>
          {% include 'refrigerator/messages.html' %}
          {%block content%}
          {% if modify_login_user %}


          
    <!-- Portfolio Section-->
        
        <div class="container">
          <!-- Portfolio Section Heading-->
          <br><br><br><br><br><br>
          <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">회원정보 수정</h2>
          <!-- Icon Divider-->
          <!-- <font color: "black"> -->
          <div class="divider-custom" >
              
              <div class="divider-custom divider-light">
                  <div class="divider-custom-line"></div>
                  <div class="divider-custom-icon"><i class="fas fa-star" ></i>
                  <svg class="svg-inline--fa fa-star" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg=""><path fill="currentColor" d="M381.2 150.3L524.9 171.5C536.8 173.2 546.8 181.6 550.6 193.1C554.4 204.7 551.3 217.3 542.7 225.9L438.5 328.1L463.1 474.7C465.1 486.7 460.2 498.9 450.2 506C440.3 513.1 427.2 514 416.5 508.3L288.1 439.8L159.8 508.3C149 514 135.9 513.1 126 506C116.1 498.9 111.1 486.7 113.2 474.7L137.8 328.1L33.58 225.9C24.97 217.3 21.91 204.7 25.69 193.1C29.46 181.6 39.43 173.2 51.42 171.5L195 150.3L259.4 17.97C264.7 6.954 275.9-.0391 288.1-.0391C300.4-.0391 311.6 6.954 316.9 17.97L381.2 150.3z"></path></svg>
                  </div> 
                  <div class="divider-custom-line"></div> 
              </div>
          </div>
      </div>

            <form action="{% url 'refrigerator:user_modify' %}" method="POST" style="text-align:center">
                {% csrf_token %}   
                {% comment %} <div class="form-group" style="text-align : center; margin : auto; font-size: 1.5rem; width:35%;"> {% endcomment %}
          
                  <input class="form-control" type="hidden" name="user_id" value="{{modify_login_user.user_id}}">
            

                <div class="form-group" style="text-align : center; margin : auto; font-size: 1.5rem; width:35%;">
                  <label for="new_user_id">아이디</label><br>
                  <input class="form-control" type="text" name="new_user_id" value="{{modify_login_user.user_id}}" disabled>
                </div>
                  <br>

                <script src="//code.jquery.com/jquery-3.3.1.min.js"></script>
                <div class="form-group" style="text-align : center; margin : auto; font-size: 1.5rem; width:35%;">
                  <label for="new_user_pw">비밀번호</label><br>
                  <input autocomplete="false" class="form-control" type="password" name="new_user_pw" value="{{ modify_login_user.user_pw }}" id="key1" style="display:inline; margin-left:9%;">
                  <div class="show" style="display:inline; font-size:small; color:darkgray" id="keyShow1">SHOW</div>
                <script>
                    $("#key1").on("keyup", function(event) {
                        if (event.keyCode === 13) {
                          event.preventDefault();
                          $("#checkKey").triggerHandler("click");
                        } else {
                          if (this.value) {
                            $("#keyShow1").css("inline-block");
                          }
                        }
                      }).focus();
                      
                      $("#keyShow1").on("click", function() {
                        if ($("#key1").attr("type") == "password") {
                          $("#key1").attr("type", "text");
                          $($(this)).text("HIDE");
                        } else {
                          $("#key1").attr("type", "password");
                          $($(this)).text("SHOW");
                        }
                      });
                </script>
                <br><br>
              </div>

                <div class="form-group" style="text-align : center; margin : auto; font-size: 1.5rem; width:35%;">    
                  <label for="renew_user_pw">비밀번호 확인</label><br>
                  <input autocomplete="false" class="form-control"type="password" name="renew_user_pw" value="{{ modify_login_user.user_pw }}" id="key2" style="display:inline; margin-left:9%">
                  <div class="show" style="display:inline; font-size:small; color:darkgray" id="keyShow2">SHOW</div>
                <script>
                    $("#key2").on("keyup", function(event) {
                        if (event.keyCode === 13) {
                          event.preventDefault();
                          $("#checkKey").triggerHandler("click");
                        } else {
                          if (this.value) {
                            $("#keyShow2").css("inline-block");
                          } 
                        }
                      }).focus();
                      
                      $("#keyShow2").on("click", function() {
                        if ($("#key2").attr("type") == "password") {
                          $("#key2").attr("type", "text");
                          $($(this)).text("HIDE");
                        } else {
                          $("#key2").attr("type", "password");
                          $($(this)).text("SHOW");
                        }
                      });
                </script>
                    </div>
                    <br>
                <div class="form-group" style="text-align : center; margin : auto; font-size: 1.5rem; width:35%;">
                  <label for="new_user_name">닉네임</label><br>
                  <input class="form-control" type="text" name="new_user_name" value="{{ modify_login_user.user_name }}">
                </div>
                  <br><br>

                <div class="form-group" style="text-align : center; margin : auto; font-size: 1.5rem; width:35%;">    
        
                <label for="new_user_gender">성별&nbsp;:&nbsp;</label>
                {% if modify_login_user.user_gender == 'Female' %}
                    <label><input type="radio" class="gender" name="new_user_gender" value='Female' checked>여자</label>
                    <label><input type="radio" class="gender" name="new_user_gender" value='Male'>남자</label>
                    <br><br>
                {% else %}
                    <label><input type="radio" class="gender" name="new_user_gender" value='Female'>여자</label>
                    <label><input type="radio" class="gender" name="new_user_gender" value='Male'checked>남자</label>
                    <br><br>
                {% endif %}
              </div>
              <div   style="text-align : center; margin : auto; font-size: 1.5rem; width:35%;">
                <input class="btn btn-primary" type="submit" value="회원정보 수정" style="font-size: 1.5rem; text-align: center; background-color: gainsboro; border-color: gainsboro; color:buttontext; background-color: buttonface; border-width: 2px;
                border-style: outset;
                border-color: buttonborder;
                border-image: initial;">
              </div>  
            
            </form>
            
            
            
          {% else %}
           <!-- Portfolio Section-->
        
        <div class="container">
          <!-- Portfolio Section Heading-->
          <br><br><br><br><br><br>
          <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">회원정보 수정</h2>
          <!-- Icon Divider-->
          <!-- <font color: "black"> -->
          <div class="divider-custom" >
              
              <div class="divider-custom divider-light">
                  <div class="divider-custom-line"></div>
                  <div class="divider-custom-icon"><i class="fas fa-star" ></i>
                  <svg class="svg-inline--fa fa-star" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg=""><path fill="currentColor" d="M381.2 150.3L524.9 171.5C536.8 173.2 546.8 181.6 550.6 193.1C554.4 204.7 551.3 217.3 542.7 225.9L438.5 328.1L463.1 474.7C465.1 486.7 460.2 498.9 450.2 506C440.3 513.1 427.2 514 416.5 508.3L288.1 439.8L159.8 508.3C149 514 135.9 513.1 126 506C116.1 498.9 111.1 486.7 113.2 474.7L137.8 328.1L33.58 225.9C24.97 217.3 21.91 204.7 25.69 193.1C29.46 181.6 39.43 173.2 51.42 171.5L195 150.3L259.4 17.97C264.7 6.954 275.9-.0391 288.1-.0391C300.4-.0391 311.6 6.954 316.9 17.97L381.2 150.3z"></path></svg>
                  </div> 
                  <div class="divider-custom-line"></div> 
              </div>
          </div>
      </div>

          <form action="{% url 'refrigerator:user_modify' %}" method="POST" style="text-align : center; margin : auto;">
            {% csrf_token %}   
            {% comment %} <div class="form-group" style="text-align : center; margin : auto; font-size: 1.5rem; width:35%;"> {% endcomment %}
            <input class="form-control" type="hidden" name="user_id" value="{{current_user_id}}">
            <div class="form-group" style="text-align : center; margin : auto; font-size: 1.5rem; width:35%;">
              <label for="new_user_id">아이디</label><br>
              <input class="form-control" type="text" name="new_user_id" value="{{current_user_id}}" disabled>
            </div><br><br>

            <script src="//code.jquery.com/jquery-3.3.1.min.js"></script>
            <div class="form-group" style="text-align : center; margin : auto; font-size: 1.5rem; width:35%;">
              <label for="new_user_pw">비밀번호</label><br>
              <input autocomplete="false" class="form-control"type="password" name="new_user_pw" value="{{ new_user_pw }}" id="key1" style="display:inline; margin-left:9%;"">
            
            <div class="show" style="display:inline; font-size:small; color:darkgray" id="keyShow1">SHOW</div>
            

            
            <script>
                $("#key1").on("keyup", function(event) {
                    if (event.keyCode === 13) {
                      event.preventDefault();
                      $("#checkKey").triggerHandler("click");
                    } else {
                      if (this.value) {
                        $("#keyShow1").css("inline-block");
                      } else {
                        $("#keyShow1").hide();
                      }
                    }
                  }).focus();
                  
                  $("#keyShow1").on("click", function() {
                    if ($("#key1").attr("type") == "password") {
                      $("#key1").attr("type", "text");
                      $($(this)).text("HIDE");
                    } else {
                      $("#key1").attr("type", "password");
                      $($(this)).text("SHOW");
                    }
                  });
            </script>
            </div>
            <br>

            <div class="form-group" style="text-align : center; margin : auto; font-size: 1.5rem; width:35%;">
              <label for="renew_user_pw">비밀번호 확인</label><br>
              <input autocomplete="false" class="form-control"type="password" name="renew_user_pw" value="{{ user_re_pw }}" id="key2" style="display:inline; margin-left:9%;">
              
            <div class="show" style="display:inline; font-size:small; color:darkgray" id="keyShow2">SHOW</div>
          
            <script>
                $("#key2").on("keyup", function(event) {
                    if (event.keyCode === 13) {
                      event.preventDefault();
                      $("#checkKey").triggerHandler("click");
                    } else {
                      if (this.value) {
                        $("#keyShow2").css("inline-block");
                      } else {
                        $("#keyShow2").hide();
                      }
                    }
                  }).focus();
                  
                  $("#keyShow2").on("click", function() {
                    if ($("#key2").attr("type") == "password") {
                      $("#key2").attr("type", "text");
                      $($(this)).text("HIDE");
                    } else {
                      $("#key2").attr("type", "password");
                      $($(this)).text("SHOW");
                    }
                  });
            </script>
            </div>
            <br>
            <div class="form-group" style="text-align : center; margin : auto; font-size: 1.5rem; width:35%;">
              <label for="new_user_name">닉네임</label><br>
              <input class="form-control" type="text" name="new_user_name" value="{{ new_user_name }}">
            </div> 
            <br><br>
            <div class="form-group" style="text-align : center; margin : auto; font-size: 1.5rem; width:35%;">
              <label for="new_user_gender">성별&nbsp;:&nbsp;</label>
              {% if new_user_gender == 'Female' %}
                  <label><input type="radio" class="gender" name="new_user_gender" value='Female' checked>여자</label>
                  <label><input type="radio" class="gender" name="new_user_gender" value='Male'>남자</label>
                  <br><br>
              {% else %}
                  <label><input type="radio" class="gender" name="new_user_gender" value='Female'>여자</label>
                  <label><input type="radio" class="gender" name="new_user_gender" value='Male'checked>남자</label>
                  <br><br>
              {% endif %}
            </div>
            <div style="text-align : center; margin : auto; font-size: 1.5rem; width:35%;">
              <input class="btn btn-primary" type="submit" value="회원정보 수정" style="font-size: 1.5rem; text-align: center; background-color: gainsboro; border-color: gainsboro; color:buttontext; background-color: buttonface; border-width: 2px;
              border-style: outset;
              border-color: buttonborder;
              border-image: initial;">
            </div> 
          </form>

              
              
                {% csrf_token %}  
                <p></p>
             
               
              </form>
            </div> 
        

        {% endif %}
        <div   style="text-align: center;"><p></p>
          <button onClick="myFunction()" class="btn btn-primary" style="font-size: 1.5rem; text-align: center; background-color: gainsboro; border-color: gainsboro; color:buttontext; background-color: buttonface; border-width: 2px;
          border-style: outset;
          border-color: buttonborder;
          border-image: initial;">&nbsp;&nbsp;&nbsp;회원탈퇴&nbsp;&nbsp;&nbsp;</button>
        </div> 
        <br> 
          <script>
            function myFunction() {
              if (confirm('탈퇴하시겠습니까?') == true) {
                location.href="{% url 'refrigerator:user_delete' %}";
              } else {
                Window.close();
              }
            }
          </script>
        
        {% endblock %}
      </body>
      
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="{% static "js/scripts.js" %}"></script>
    <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
    <!-- * *                               SB Forms JS                               * *-->
    <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
    <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
    <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
</html>