{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>회원가입</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="{% static "assets/favicon.ico" %}" />
        <!-- Font Awesome icons (free version)-->
        <script src="{% static "https://use.fontawesome.com/releases/v6.1.0/js/all.js" %}" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="{% static "css/styles.css" %}" rel="stylesheet" />
        <style>
            * { font-family: 'Do Hyeon', sans-serif; }

            #mybtn {
                /* max-width:100%;height:auto; */
                width: auto;
                height: auto;
                text-align: center;
                margin-left:auto; margin-right: auto;
            }
            /* #mybtn2 {
                /* max-width:100%;height:auto; */
                /* width: auto; */
                /* height: auto; */
                /* text-align: center; */
                /* margin-left:auto; margin-right: auto; */
            /* } */ 
            button {

                display: inline-block;
                font-weight: 600;
                line-height: 3.5;
                color: #fff;
                text-align: center;
                text-decoration: none;
                vertical-align: middle;
                cursor: pointer;
                -webkit-user-select: none;
                    -moz-user-select: none;
                    -ms-user-select: none;
                        user-select: none;
                background-color: transparent;
                border: 0.125rem solid transparent;
                padding: 0.375rem 0.75rem;
                font-size: 1.5rem;
                border-radius: 0.5rem;
                transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
                background-color: #1abc9c;
                border-color: #1abc9c;
                }

            .star-rating {
                display:flex; 
                flex-direction: row-reverse;
                font-size:2.5em;
                justify-content:space-around;
                padding:0 .2em;
                text-align:center;
                width:5em;
                margin-left : auto; margin-right : auto;
                }
                
            .star-rating input {
            display:none;
            }
                
            .star-rating label {
            color:#ccc;
            cursor:pointer;
            }
                
            .star-rating :checked ~ label {
            color:#f90;
            }
                
            .star-rating label:hover,
            .star-rating label:hover ~ label {
            color:#fc0;
            }

            .gender radio:checked{
                border: 0.4em solid tomato;
            }

            .show {cursor: pointer;}

            .gender radio:checked{
                border: 0.4em solid tomato;
            }
        </style>
    </head>

    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
            <div class="container" >
                <a class="navbar-brand" href="/refrigerator/">냉털을 부탁해!</a>
                <button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="/refrigerator/total_recipe" >전체 레시피 보기</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="/refrigerator/my_rec/">추천 레시피 보기</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="/refrigerator/fridge_save">냉장고 보기</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="/refrigerator/image_upload">재료 추가하기</a></li>
                  </ul>
                </div>
            </div>
        </nav>

        <body>
            {% include 'refrigerator/messages.html' %}
            {% block contents %}
            <div class='container' style="text-align:center;  font-size: 1.5rem;">
                <div class="row mt-5">
                    <div class="col-12" style="text-align:center; font-size: 3rem;">
                        <br>회원가입<br>
                    
                </div>
            </div>
            <div style="text-align : center">
                <div class="divider-custom" >
                    <div class="divider-custom divider-light" style="margin: 0;">
                        <div class="divider-custom-line" ></div>
                        <div style="margin: 0;" class="divider-custom-line" ></div> 
                    </div> 
                </div>
            </div>
            <script src="//code.jquery.com/jquery-3.3.1.min.js"></script>
            <form method="POST" action="{% url 'refrigerator:signup' %}" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="form-group" style="text-align : center; margin : auto; font-size: 1.5rem; width:35%; ">
                    <label for="user_id">아이디</label>
                    <input type="text" class="form-control" name="user_id" id="user_id"
                        value="{{ input_user_id | default_if_none:'' }}"><br>
                </div>
                <div class="form-group" style="text-align : center; margin : auto; font-size: 1.5rem; width:35%;  ">
                    <label for="user_pw">비밀번호</label><br>
                
                    <input autocomplete="false" type="password" class="form-control" name="user_pw" id="user_pw" style="display:inline; margin-left:9%"
                        value="{{ input_user_pw | default_if_none:'' }}">
                        <div class="show" style="display:inline; font-size:small; color:darkgray" id="keyShow1">SHOW</div> 
                    <script>
                        $("#user_pw").on("keyup", function(event) {
                            if (event.keyCode === 13) {
                                event.preventDefault();
                                $("#checkKey").triggerHandler("click");
                            } else {
                                if (this.value) {
                                $("#keyShow1").css("inline-block");
                                } 
                            }
                            }).focus();
                            
                            $("#keyShow1").on("click", function() {
                            if ($("#user_pw").attr("type") == "password") {
                                $("#user_pw").attr("type", "text");
                                $($(this)).text("HIDE");
                            } else {
                                $("#user_pw").attr("type", "password");
                                $($(this)).text("SHOW");
                            }
                            });
                    </script>
                </div>
                <br>
                <div class="form-group" style="text-align : center; margin : auto; font-size: 1.5rem; width:35%;">
                    <label for="user_pw_confirm">비밀번호 확인</label><br>
                    <input autocomplete="false" type="password" class="form-control" name="user_pw_confirm" id="user_pw_confirm" style="display:inline; margin-left:9%;"
                        value="{{ input_user_pw_confirm | default_if_none:'' }}">
                        <div class="show" style="display:inline; font-size:small; color:darkgray" id="keyShow2">SHOW</div>
                    <script>
                        $("#user_pw_confirm").on("keyup", function(event) {
                            if (event.keyCode === 13) {
                                event.preventDefault();
                                $("#checkKey").triggerHandler("click");
                            } else {
                                if (this.value) {
                                $("#keyShow2").css("inline-block");
                                } 
                            }
                            }).focus();
                            $("#keyShow2").on("click", function() {
                            if ($("#user_pw_confirm").attr("type") == "password") {
                                $("#user_pw_confirm").attr("type", "text");
                                $($(this)).text("HIDE");
                            } else {
                                $("#user_pw_confirm").attr("type", "password");
                                $($(this)).text("SHOW");
                            }
                            });
                    </script>
                </div>
                <br>
                <div class="form-group" style="text-align : center; margin : auto; font-size: 1.5rem; width:35%;">
                    <label for="user_name">닉네임</label>
                    <input type="text" class="form-control" name="user_name" id="user_name"
                        value="{{ input_user_name | default_if_none:'' }}">
                </div>
                <br>
                {% if input_user_gender %}
                    {% if input_user_gender == 'Female' %}
                        <div class="form-group" style="text-align : center; margin : auto; font-size: 1.5rem; ">
                            <label for="user_gender">성별&nbsp;:&nbsp;</label>
                            <label><input type="radio" class="gender" name="user_gender" id="user_gender" value='Female' checked>여자</label>
                            <label><input type="radio" class="gender" name="user_gender" id="user_gender" value='Male'>남자</label>
                        </div>
                    {% else %}
                        <div class="form-group" style="text-align : center; margin : auto; font-size: 1.5rem; ">
                            <label for="user_gender">성별&nbsp;:&nbsp;</label>
                            <label><input type="radio" class="gender" name="user_gender" id="user_gender" value='Female'>여자</label>
                            <label><input type="radio" class="gender" name="user_gender" id="user_gender" value='Male' checked>남자</label>
                        </div>
                    {% endif %}
                {% else %}
                    <div class="form-group" style="text-align : center; margin : auto; font-size: 1.5rem; ">
                        <label for="user_gender">성별&nbsp;:&nbsp;</label>
                        <label><input type="radio" class="gender" name="user_gender" id="user_gender" value='Female'>여자</label>
                        <label><input type="radio" class="gender" name="user_gender" id="user_gender" value='Male'>남자</label>
                    </div>
                {% endif %}
                <div style="text-align : center">
                    <div class="divider-custom" >
                        <div class="divider-custom divider-light" style="margin: 0;">
                            <div class="divider-custom-line" ></div>
                            <div style="margin: 0;" class="divider-custom-line" ></div> 
                        </div> 
                    </div>
                </div>
                <br>
                <div class="warning_msg">별점을 선택해 주세요.</div><br>
                {% if fav_recipe_list %}
                <div>
                    {% for recipe in fav_recipe_list %}
                    <img src="{{recipe.recipe_image}}" alt="My Image" width="300" height="300">
                    <br>
                        {{recipe.recipe_title}}
                        <div class="review_rating">
                            <div class="star-rating">
                                <input type="hidden" name="recipe_id[]" value={{recipe.recipe_id}}>
                                <input type="checkbox" id="5-{{ forloop.counter}}" name="rating[]" value="5" />
                                <label for="5-{{ forloop.counter}}" class="star">&#9733;</label>
                                <input type="checkbox" id="4-{{ forloop.counter}}" name="rating[]" value="4" white-space="nowrap"/>
                                <label for="4-{{ forloop.counter}}" class="star">&#9733;</label>
                                <input type="checkbox" id="3-{{ forloop.counter}}" name="rating[]" value="3" white-space="nowrap"/>
                                <label for="3-{{ forloop.counter}}" class="star">&#9733;</label>
                                <input type="checkbox" id="2-{{ forloop.counter}}" name="rating[]" value="2" />
                                <label for="2-{{ forloop.counter}}" class="star">&#9733;</label>
                                <input type="checkbox" id="1-{{ forloop.counter}}" name="rating[]" value="1" white-space="nowrap"/>
                                <label for="1-{{ forloop.counter}}" class="star">&#9733;</label> 
                            </div>
                        </div>
                     
                    {% endfor %}
                </div>
                {% endif %}
                <br>
                <div style="font-size: 2rem; text-align: center;">
                <button type="submit" class="btn btn-primary" style="font-size: 2rem;">회원가입 완료</button>
                </div>
                <br><br>
            </form>
        {% endblock %}
        </body>
        
    <!— Bootstrap core JS—>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!— Core theme JS—>
    <script src="{% static "js/scripts.js" %}"></script>
    <!— * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *—>
    <!— * *                               SB Forms JS                               * *—>
    <!— * * Activate your form at https://startbootstrap.com/solution/contact-forms * *—>
    <!— * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *—>
    <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
</html>